% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/PlotStats.R
\name{PlotStatsPie}
\alias{PlotStatsPie}
\title{Pie chart or donut chart of cluster proportions inside spatial regions}
\usage{
PlotStatsPie(
  cell_stats = NULL,
  plot_donut = FALSE,
  add_labels = TRUE,
  label_cutoff = 0.01,
  label_color = "white",
  label_size = 4,
  label_nudge_x = 0.1,
  colors = my_colors_15
)
}
\arguments{
\item{cell_stats}{A data frame containing cluster statistics per region,
typically the output from \code{StatsCellsInside()}.
Must include columns \code{region_id}, \code{cluster},
and \code{proportion}.}

\item{plot_donut}{Logical. If \code{TRUE}, a donut chart is generated;
otherwise, a pie chart. Default is \code{FALSE}.}

\item{add_labels}{Logical. If \code{TRUE}, percentage labels are displayed
inside each slice. Default is \code{TRUE}.}

\item{label_cutoff}{Numeric. Proportional threshold below which labels
are hidden (e.g., \code{0.01} = 1\%). Default is \code{0.01}.}

\item{label_color}{Character. Color of the percentage labels.
Default is \code{"white"}.}

\item{label_size}{Numeric. Text size for percentage labels. Default is \code{4}.}

\item{label_nudge_x}{Numeric. Horizontal adjustment for label positioning.
Default is \code{0.1}.}

\item{colors}{A vector of cluster colors. Default uses \code{my_colors_15}.}
}
\value{
A \code{ggplot2} object representing a faceted pie or donut chart
per spatial region.
}
\description{
Generates pie or donut charts to visualize the proportion of cells
from different clusters within each spatial region (e.g., boundary or ring).
The plot is faceted by \code{region_id} to show the composition of
each spatial subregion. Optionally, percentage labels can be added
with filtering based on a minimum proportion threshold.
}
\examples{
coords <- readRDS(system.file("extdata", "MouseBrainCoords.rds",
    package = "SpNeigh"
))

boundary_points <- GetBoundary(
    data = coords, one_cluster = 2,
    eps = 120, minPts = 10
)
cells_inside <- GetCellsInside(data = coords, boundary = boundary_points)
stats_cells <- StatsCellsInside(cells_inside)

PlotStatsPie(stats_cells, add_labels = FALSE)
PlotStatsPie(stats_cells, label_cutoff = 0)
PlotStatsPie(stats_cells, label_cutoff = 0.01)
PlotStatsPie(stats_cells, plot_donut = TRUE)

}
